---
const formData = {
  name: '',
  email: '',
  message: ''
};

const handleInputChange = (e) => {
  const { name, value } = e.target;
  formData[name] = value;
};

const handleSubmit = async (e) => {
  e.preventDefault();

  // Llamar al API para enviar el correo (ver abajo)
  const response = await fetch('/api/send-email', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify(formData)
  });

  if (response.ok) {
    alert('Mensaje enviado con éxito');
  } else {
    alert('Hubo un error al enviar el mensaje');
  }
};
---

<form onsubmit={handleSubmit} class="space-y-4">
  <div>
    <label htmlFor="name" class="block text-sm font-medium text-gray-700">Nombre</label>
    <input
      type="text"
      id="name"
      name="name"
      value={formData.name}
      oninput={handleInputChange}
      class="input input-bordered w-full"
      required
    />
  </div>
  <div>
    <label htmlFor="email" class="block text-sm font-medium text-gray-700">Correo electrónico</label>
    <input
      type="email"
      id="email"
      name="email"
      value={formData.email}
      oninput={handleInputChange}
      class="input input-bordered w-full"
      required
    />
  </div>
  <div>
    <label htmlFor="message" class="block text-sm font-medium text-gray-700">Mensaje</label>
    <textarea
      id="message"
      name="message"
      value={formData.message}
      oninput={handleInputChange}
      class="textarea textarea-bordered w-full"
      required
    ></textarea>
  </div>
  <button type="submit" class="btn btn-primary w-full">Enviar</button>
</form>
